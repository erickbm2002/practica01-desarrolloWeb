<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::section}, 'Catálogo de Árboles')}">
<head>
    <title>Catálogo</title>
</head>
<body>
    <section>
        <div class="container my-5">

            <!-- Banner de Bienvenida -->
            <div class="row mb-5">
                <div class="col-12">
                    <div class="card" style="background: linear-gradient(135deg, #52b788 0%, #2d6a4f 100%); color: white;">
                        <div class="card-body text-center py-5">
                            <h1 class="display-3"><i class="bi bi-tree"></i> Bienvenido</h1>
                            <p class="lead fs-4">Explora nuestra colección de árboles y descubre la naturaleza</p>
                            <p class="mb-0">Total de especies: <strong th:text="${totalArboles}">0</strong></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Catálogo de Árboles -->
            <div class="row mb-4">
                <div class="col-12">
                    <h2 class="text-center mb-4" style="color: var(--verde-oscuro);">
                        <i class="bi bi-list-ul"></i> Nuestro Catálogo
                    </h2>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-md-6 col-lg-4" th:each="arbol : ${arboles}">
                    <div class="card h-100">
                        <!-- Imagen del árbol -->
                        <div style="height: 250px; overflow: hidden; background-color: #e9ecef; display: flex; align-items: center; justify-content: center;">
                            <img th:if="${arbol.rutaImagen != null && !arbol.rutaImagen.isEmpty()}" 
                                 th:src="@{/{ruta}(ruta=${arbol.rutaImagen})}" 
                                 th:alt="${arbol.nombreArbol}"
                                 class="img-fluid"
                                 style="width: 100%; height: 100%; object-fit: cover;">
                            <div th:if="${arbol.rutaImagen == null || arbol.rutaImagen.isEmpty()}" 
                                 class="text-center">
                                <i class="bi bi-tree" style="font-size: 5rem; color: var(--verde-claro);"></i>
                            </div>
                        </div>

                        <div class="card-body">
                            <h5 class="card-title" style="color: var(--verde-principal);">
                                <i class="bi bi-tree-fill"></i> 
                                <span th:text="${arbol.nombreArbol}">Nombre del Árbol</span>
                            </h5>

                            <div class="mb-2">
                                <strong style="color: var(--verde-oscuro);">
                                    <i class="bi bi-flower1"></i> Tipo de Flor:
                                </strong>
                                <span th:text="${arbol.tipoFlor != null ? arbol.tipoFlor : 'No especificada'}">-</span>
                            </div>

                            <div class="row">
                                <div class="col-6">
                                    <small class="text-muted">
                                        <i class="bi bi-rulers"></i> <strong>Altura:</strong>

                                        <span th:if="${arbol.alturaPromedio != null}">
                                            <span th:text="${arbol.alturaPromedio}">0</span> m
                                        </span>
                                        <span th:if="${arbol.alturaPromedio == null}">N/A</span>
                                    </small>
                                </div>
                                <div class="col-6">
                                    <small class="text-muted">
                                        <i class="bi bi-hammer"></i> <strong>Dureza:</strong>

                                        <span th:if="${arbol.durezaMadera != null}" th:text="${arbol.durezaMadera}">0</span>
                                        <span th:if="${arbol.durezaMadera == null}">N/A</span>
                                    </small>
                                </div>
                            </div>
                        </div>

                        <div class="card-footer bg-white border-0">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge" style="background-color: var(--verde-claro);">
                                    <i class="bi bi-check-circle"></i> Disponible
                                </span>
                                <small class="text-muted">ID: <span th:text="${arbol.idArbol}">1</span></small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mensaje si no hay árboles -->
                <div class="col-12" th:if="${arboles == null || arboles.isEmpty()}">
                    <div class="alert alert-info text-center" role="alert">
                        <i class="bi bi-info-circle" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">No hay árboles registrados en el catálogo</h4>
                        <p>Visita la sección de administración para agregar nuevos árboles.</p>
                    </div>
                </div>
            </div>

            <!-- Sección informativa -->
            <div class="row mt-5">
                <div class="col-12">
                    <div class="card" style="border-left: 5px solid var(--verde-principal);">
                        <div class="card-body">
                            <h4 style="color: var(--verde-oscuro);">
                                <i class="bi bi-info-circle-fill"></i> Acerca de Nuestro Catálogo
                            </h4>
                            <p class="mb-0">
                                Este catálogo contiene información detallada sobre diferentes especies de árboles, 
                                incluyendo características como el tipo de flor, dureza de la madera y altura promedio. 
                                Cada árbol ha sido cuidadosamente documentado para proporcionar información valiosa 
                                sobre su conservación y características únicas.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
</body>
</html>